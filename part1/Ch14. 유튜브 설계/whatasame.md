# Ch14. 유튜브 설계

### 동영상을 업로드할 때 이어서 업로드하기 기능을 지원하려면 어떻게 설계 해야할까요?

* 원본 동영상을 작은 단위로 쪼개고 인코딩한 후 업로드 하는 과정이 하나의 흐름으로 처리된다면 어떤 문제가 있을까요? 또, 어떻게 해결할 수 있을까요?
* CDN 관점에서 업로드 속도를 높일 수 있는 방법은 어떤 것이 있을까요?

<details>
<summary><h4>해설</h4></summary>

> 동영상을 업로드할 때 이어서 업로드하기 기능을 지원하려면 어떻게 설계 해야할까요?

* 비디오를 GOP(group of pictures)와 같은 단위로 쪼개 업로드합니다. 업로드가 실패하더라도 일부 GOP 업로드를 다시 재개하면 됩니다. 또, 병렬 처리의 정도도 높일 수 있습니다.

> 원본 동영상을 작은 단위로 쪼개고 인코딩한 후 업로드 하는 과정이 하나의 흐름으로 처리된다면 어떤 문제가 있을까요? 또, 어떻게 해결할 수 있을까요?

* 이전 단계의 결과물을 입력으로 사용하기 때문에 각 단계간 의존성이 존재하여 병렬성이 낮다는 단점이 있습니다. 하나의 비디오를 작은 단위로 쪼갰다면 각각의 단위에 대해 단계를 수행하고 결과물을 메세지 큐에 저장하는
  방식으로 결합도를 낮출 수 있습니다.

> CDN 관점에서 업로드 속도를 높일 수 있는 방법은 어떤 것이 있을까요?

* 업로드 센터를 서로 다른 지역에 각각 설치하는 방법이 있습니다. 클라이언트와 가장 가까운 CDN을 업로드 센터로 이용함으로써 작업 속도를 높일 수 있습니다.

</details>


<br>

### BLOB 저장소는 무엇인가요?

* 비디오 트랜스코딩이 필요한 이유는 무엇인가요?
* 클라이언트마다 요구하는 인코딩을 효율적으로 처리하는 방법은 어떤 것이 있나요?

<details>
<summary><h4>해설</h4></summary>

> BLOB 저장소는 무엇인가요?

* 이진 데이터를 하나의 개체로 보관하는 데이터베이스 관리 시스템을 말합니다.

> 비디오 트랜스코딩이 필요한 이유는 무엇인가요?

* 단말마다 지원하는 비디오 포맷과 네트워크 환경에 따른 비트레이트를 충족시키기 위함입니다.

> 클라이언트마다 요구하는 인코딩을 효율적으로 처리하는 방법은 어떤 것이 있나요?

* DAG(directed acyclic graph) 모델을 이용하여 클라이언트 프로그래머가 실행할 작업을 정의할 수 있도록 할 수 있습니다.

</details>
