# Ch08. URL 단축기 설계

### URL 단축기란 무엇이고 이것을 사용하는 이유에 대해서 설명해주세요.

* URL 단축을 사용했을 때의 대략적인 요청과 응답 과정을 설명해주세요.
* 리다이렉션의 301과 302의 차이에 대해 설명해주세요.

<details>
<summary><h4>해설</h4></summary>

> URL 단축기란 무엇이고 이것을 사용하는 이유에 대해서 설명해주세요.
* 긴 URL을 짧게 줄여주는 서비스입니다. URL 을 공유할 때 트위터나 문자 메시지 등 글자수 제한이 있는 경우에 사용할 수 있고, 사용자가 짧은 URL을 기억하기 쉽기 때문에 사용합니다.

> URL 단축을 사용했을 때의 대략적인 요청과 응답 과정을 설명해주세요.
* 클라이언트에서 긴 URL을 단축 서비스에 요청합니다.
단축 서비스는 요청받은 URL에 대한 단축 URL을 생성하고 응답합니다.
추 후 클라이언트는 단축 URL로 요청하면 서버는 URL에 해당하는 원래의 URL로 리다이렉트시킵니다.

> 리다이렉션의 301과 302의 차이에 대해 설명해주세요.
* 301은 영구적인 리다이렉션을 의미하고, 302는 일시적인 리다이렉션을 의미합니다.
301은 Location 헤더 값을 캐싱하고 동일한 요청이 발생할 경우 캐싱된 값으로 바로 요청을 보냅니다.
302는 캐싱하지 않고 매번 요청할 때마다 단축 서비스를 거쳐 서버에 요청을 합니다.

</details>


<br>

### URL 단축기를 간단하게 설계해보세요.

* URL 리다이렉션 서비스를 설계해보세요.

<details>
<summary><h4>해설</h4></summary>

> URL 단축기를 간단하게 설계해보세요.
* 클라이언트가 URL 단축을요청하면 서버는 해당 URL이 db에 있는지 확인합니다.
db에 존재한다면 단축 URL을 반환합니다. 존재하지 않는다면 base 진법을 사용하여 원래의 URL로부터 단축 URL을 생성하고 db에 저장한 후 반환합니다.

> URL 리다이렉션 서비스를 설계해보세요.
* 클라이언트가 단축 URL로 요청하면 서버는 캐시에 해당 데이터가 있는지 확인합니다.
캐시에 존재한다면 캐시된 URL로 응답합니다.
캐시에 존재하지 않는다면 db에서 조회하고 db에 존재한다면 원래의 URL을 캐싱하고 응답합니다. 만약 존재하지 않는다면 404(Not Found)를 응답합니다.

</details>