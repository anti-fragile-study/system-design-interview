# Ch12. 채팅 시스템 설계

### 실시간 서비스를 구현하기 위한 프로토콜에는 어떤 종류가 있을까요?

* 폴링과 롱 폴링의 차이점은 무엇일까요?
* 롱 폴링의 단점 중 클라이언트의 연결이 종료되었는지 서버가 확인할 수 없다는 것이 있는데요. 왜 그럴까요?

<details>
<summary><h4>해설</h4></summary>

> 실시간 서비스를 구현하기 위한 프로토콜에는 어떤 종류가 있을까요?
* 실시간 서비스를 구현하기 위한 프로토콜로는 폴링, 롱 폴링, 웹 소켓 등이 있습니다.

> 폴링과 롱 폴링의 차이점은 무엇일까요?
* 폴링은 클라이언트가 서버에게 주기적으로 요청을 보내는 방식이며, 롱 폴링은 클라이언트가 서버에게 요청을 보내고 서버가 응답을 보내거나 타임아웃 전까지 연결을 유지하는 방식입니다.

> 롱 폴링의 단점 중 클라이언트의 연결이 종료되었는지 서버가 확인할 수 없다는 것이 있는데요. 왜 그럴까요?
* 클라이언트가 새로운 데이터를 받을 때까지 열려 있는 상태로 유지되기 때문에 클라이언트의 연결이 종료되었는지 서버가 확인할 수 없습니다.
</details>


<br>

### 웹 소켓으로 통신하는 과정은 어떻게 이루어질까요?

* 웹 소켓은 클라이언트와 서버 사이의 연결을 계속 유지합니다. 클라이언트 측에서 비정상적으로 연결이 끊어진 경우, 서버 측에서 어떻게 처리할 수 있을까요?
* Publish-subscribe 패턴을 사용하여 실시간 시스템을 구현할 때, 어떤 장단점이 있을까요?

<details>
<summary><h4>해설</h4></summary>

> 웹 소켓으로 통신하는 과정은 어떻게 이루어질까요?
* 클라이언트가 HTTP를 사용하여 연결을 요청하면 서버는 응답으로 101 상태 코드를 보내 웹 소켓 연결로 전환합니다. 이후에는 양방향 통신이 가능해집니다.

> 웹 소켓은 클라이언트와 서버 사이의 연결을 계속 유지합니다. 클라이언트 측에서 비정상적으로 연결이 끊어진 경우, 서버 측에서 어떻게 처리할 수 있을까요?
* ping-pong 신호와 같은 방법을 사용하여 주기적으로 이벤트를 보내어 연결이 정상적인지 확인할 수 있습니다.

> Publish-subscribe 패턴을 사용하여 실시간 시스템을 구현할 때, 어떤 장단점이 있을까요?
* 새로운 사용자는 구독만 하면 쉽게 메시지를 수신할 수 있어 확장성이 높고 publisher와 subcriber 간의 직접적인 통신을 하지 않으므로 결합도가 낮습니다. 그러나 규모가 커지면 라우팅 비용이 높아지고 메시지 전달의 병목 지점이 될 수 있습니다.
</details>
