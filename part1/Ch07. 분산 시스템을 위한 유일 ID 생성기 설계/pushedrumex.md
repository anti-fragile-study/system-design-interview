# Ch07. 분산 시스템을 위한 유일 ID 생성기 설계

### 분산 시스템에서 db 의 auto_increment 를 사용하면 어떤 문제점이 있나요?

* 해당 문제를 어떻게 해결할 수 있을까요?

<details>
<summary><h4>해설</h4></summary>

> 분산 시스템에서 db 의 auto_increment 를 사용하면 어떤 문제점이 있나요?
* 분산 시스템에서 auto_increment 속성을 사용하면 각각의 db 마다 id가 독립적으로 생성되어 중복될 위험이 있습니다.

> 해당 문제를 어떻게 해결할 수 있을까요?
* 유일 ID 생성기를 사용하여 여러 db 간에 전역적으로 중복되지 않은 ID를 생성하면 해결할 수 있습니다.

</details>


<br>

### 쇼핑몰 프로젝트를 진행하셨는데, 만약 주문의 ID 에 주문 날짜를 명시해야한다는 요구사항이 있다면 어떤식으로 설계할 수 있을까요?

* 스노우 플레이크 ID 생성기의 구성에 대해 알고계신다면 설명해주세요.
* UUID 와 비교하여 스노우 플레이크를 사용하여 ID를 생성했을 때 갖게 되는 장점이 어떤게 있을까요?

<details>
<summary><h4>해설</h4></summary>

> 쇼핑몰 프로젝트를 진행하셨는데, 만약 주문의 ID 에 주문 시각을 명시해야한다는 요구사항이 있다면 어떤식으로 설계할 수 있을까요?
* 스노우플레이크로 ID를 생성하고, 타임 스탬프 값으로 주문 시각을 계산하여 ID에 명시할 수 있습니다.

> 스노우 플레이크 ID 생성기의 구성에 대해 알고계신다면 설명해주세요.
* 스노우 플레이크는 사인 비트, 타임스탬프, 데이터센터 ID, 서버 ID, 일련번호로 구성되어 있습니다.
사인비트는 음수인지 양수인지 구분하는 비트, 타임 스탬프는 기원시각으로부터 현재 시각까지의 경과를 밀리초로 나타낸 값, 
일력번호는 동일한 타임스탬프의 두개 이상의 ID가 생성되는 것을 방지하기 위한 번호입니다.
> UUID 와 비교하여 스노우 플레이크를 사용하여 ID를 생성했을 때 갖게 되는 장점이 어떤게 있을까요?
* 타임스탬프가 포함되어 있어서 시간순으로 정렬이 가능합니다.

</details>