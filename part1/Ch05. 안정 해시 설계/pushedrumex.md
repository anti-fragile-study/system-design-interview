# Ch05. 안정 해시 설계

### 안정 해시의 원리에 대해 설명해주세요.

* 안정 해시를 사용할 경우, 해시링 위에 노드 또는 서버가 각각 하나 씩만 존재한다면 어떤 문제점이 있을까요?
* 안정해시를 사용하면 핫스팟 키문제를 최소화할 수 있는데, 그 이유에 대해서 아시나요?

<details>
<summary><h4>해설</h4></summary>

> 안정 해시의 원리에 대해 설명해주세요.
* 안정 해시란, 해시 테이블 크기가 조정될 때 재배치되는 키의 개수를 줄이기 위한 해시 기술입니다. 해시 링 위에 해시 서버와 해시 키를 적절하게 배치하여, 해시 서버가 추가되거나 제거될 때 일부의 해시 키만 재배치되도록 합니다.

> 안정 해시를 사용할 경우, 노드 또는 서버가 각각 하나씩만 존재한다면 어떤 문제점이 있을까요?
* 서버의 개수가 변했을 때, 파티션을 균등하게 유지하는것이 불가능하다는 단점이 있습니다.

> 안정해시를 사용하면 핫스팟 키문제를 줄일 수 있는데, 그 이유에 대해서 아시나요?
* 특정 샤드에 대한 접근이 지나치게 빈번하면 서버 과부하 문제가 생길 수 있는데, 안정해시의 가상 노드 기법을 사용하면 접근이 빈번한 key 들을 균등하게 분포할 수 있어 핫스팟 키 문제를 최소화할 수 있습니다.
</details>

<br>

### 가상 노드에 대해서 설명해주세요.

* 가상 노드에 장단점에 대해 설명해주세요.

<details>
<summary><h4>해설</h4></summary>

> 가상 노드에 대해서 설명해주세요.
* 가상 노드는 실제 노드 또는 서버를 가리키는 노드로서, 하나의 서버는 링 위에 여러 개의 가상 노드를 가질 수 있습니다. 이 경우, 각 서버는 하나가 아닌 여러 개의 파티션을 관리해야합니다.

> 가상 노드에 장단점에 대해 설명해주세요.
* 장점: 가상 노드의 개수를 늘리면 키의 분포가 균등해진다. 표준편차가 작아져서 데이터가 고르게 분포되기 때문이다.
* 단점: 가상 노드 데이터를 저장할 공간이 추가로 필요하다

</details>