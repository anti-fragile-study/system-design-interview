# Ch10. 알림 시스템 설계

### 단일 알림 서버 시스템일 경우 어떤 문제가 있을까요?

* 단일 알림 서버의 SPOF 문제는 어떻게 해결할 수 있을까요?
* 제 3자 알림 서비스와 알림 서버 사이에 메시지큐를 둔다면 어떤 장점이 있을까요?

<details>
<summary><h4>해설</h4></summary>

> 단일 서버 알림 시스템일 경우 어떤 문제가 있을까요?
* 알림 서버에 장애가 발생하면 전체 서비스 장애로 이어질 수 있으며, 서버에 과부하가 걸릴 수 있다는 문제가 있습니다.

> 단일 알림 서버의 SPOF 문제는 어떻게 해결할 수 있을까요?
* 알림 서버를 증설해서 자동적으로 수평적 규모 확장이 이루어 지도록 하는 방법이 있습니다. 또한, 데이터 베이스와 캐시 서버를 주 서버에서 분리할 수 있습니다.

> 알림 서버에서 발생된 요청 수가 제 3자 서비스에서 처리할 수 있는 수준을 넘어설 때, 어떻게 대응할 수 있을까요?
* 알림 서버와 제 3자 서비스 사이에 메시지큐를 두어 버퍼 역할을 하도록 하여, 제 3자 서비스의 처리 속도에 따라 알림 서버의 처리 속도를 조절할 수 있습니다.
</details>


<br>

### 알림 서버에서 제 3자 서비스로 직접적으로 요청하는 알림 시스템에서, 알림 서버에 다량의 요청이 발생하여 해당 서버 다운되었을 경우 어떤 문제가 발생할 수 있을까요?

* 알림 서버가 다운되었을 때 내부 큐에 저장되어있던 데이터가 소실되는 문제를 어떻게 해결할 수 있을까요?
* 알림 서버와 제 3자 알림 서비스 사이에 메시지큐를 뒀을 때도 제 3자 알림 서비스의 일시적인 장애로 인해 메시지가 소실될 수도 있는데 이를 어떻게 해결할 수 있을까요?

<details>
<summary><h4>해설</h4></summary>

> 알림 서버에서 제 3자 서비스로 직접적으로 요청하는 알림 시스템에서, 알림 서버에 다량의 요청이 발생하여 해당 서버 다운되었을 경우 어떤 문제가 발생할 수 있을까요?
* 알림 서버의 내부 큐에 저장되어있던 데이터가 소실될 수 있습니다.

> 알림 서버가 다운되었을 때 내부 큐에 저장되어있던 데이터가 소실되는 문제를 어떻게 해결할 수 있을까요?
* 알림 서버와 제 3자 서비스 사이에 메시지큐를 두어 알림 서버가 다운이 되어도 이에 관련 없이 메시지큐에 저장된 데이터를 제 3자 서비스로 전달할 수 있도록 할 수 있습니다.

> 알림 서버와 제 3자 알림 서비스 사이에 메시지큐를 뒀을 때도 제 3자 알림 서비스의 일시적인 장애로 인해 메시지가 소실될 수도 있는데 이를 어떻게 해결할 수 있을까요?
* 메시지큐에서 가져온 메시지를 저장소에 보관하고 알림 전송에 실패했을 경우의 재시도 메카니즘을 구현하여 해결할 수 있습니다.

</details>


<br>