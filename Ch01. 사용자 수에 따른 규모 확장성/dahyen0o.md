# Ch01. 사용자 수에 따른 규모 확장성

### 여러 데이터 센터에 다중화 된 데이터베이스 서버 간 데이터를 "동기화"하려면 어떤 전략을 써야할까?

* 선택한 전략의 단점은?
* 선택한 전략에 단점이 있다면 이를 보완할 다른 전략/방법은?

<details>
<summary><h4>해설</h4></summary>

> 여러 데이터 센터에 다중화 된 데이터베이스 서버 간 데이터를 "동기화"하려면 어떤 전략을 써야할까?
* 만약 데이터가 동기화된다면 여러 데이터베이스가 논리적으로 하나의 저장소를 처리하고 있으므로, 이는 `Active-Active 방식` 으로 `클러스터링` 된 상황이다. 이 때 데이터를 동기화하기 위해 한 데이터베이스에 쓰기 요청이 들어왔을 때 다른 데이터베이스에 똑같은 요청을 보낼 수 있다. <br>
이를 동기적으로 처리한다면 데이터센터가 늘어날 수록(= 데이터베이스가 늘어날 수록) 속도가 매우 저하되지만, 데이터의 일관성(consistency)를 보장한다. <br>
메세지 큐 등 다양한 방법의 비동기 방식으로 데이터를 전송할 수도 있다. 넷플릭스는 NoSQL 데이터베이스인 `Apache Cassandra` 를 사용해 여러 노드에 빠른 속도로 데이터를 전송한다. 
</details>

<br>

### 두 대의 어플리케이션 서버가 있고 그 사이를 메세지 큐(message queue)가 연결하고 있다. <br> 시간이 많이 소요되는 작업은 송신자 서버가 메세지 큐를 통해 수신자 서버에게 요청한다. <br> 이 때 트래픽이 증가하면서 발생할 수 있는 문제는?

* 해당 문제를 해결하기 위해 어떤 전략을 세워야하는가?
* 기존 상황에서 메세지 큐를 다중화한다면 장점은 무엇이고 고려할 점은 무엇인가?

<details>
<summary><h4>해설</h4></summary>

> 두 대의 어플리케이션 서버가 있고 그 사이를 메세지 큐(message queue)가 연결하고 있다. <br>
> 시간이 많이 소요되는 작업은 송신자 서버가 메세지 큐를 통해 수신자 서버에게 요청한다. <br>
> 이 때 트래픽이 증가하면서 발생할 수 있는 문제는?
* 시간이 많이 소요되는 작업은 수신자 서버가 담당하므로, 송신자 서버에 비해 작업 소요 시간이 길 것이다.
* 즉 큐에 메세지가 소모되는 속도보다 추가되는 속도가 빠르므로 큐에 메세지가 가득 찰 수 있다.

> 해당 문제를 해결하기 위해 어떤 전략을 세워야하는가?
* 큐의 용량을 늘리거나, 큐를 추가해 메세지 큐를 다중화할 수 있다.

> 기존 상황에서 메세지 큐를 다중화한다면 장점은 무엇이고 고려할 점은 무엇인가?
* 상황에 따라 메세지 큐의 개수를 유연하게 조절할 수 있다.
* 큐 하나가 고장나도 다른 큐를 사용해 가용성이 보장된다.
* 보통 메세지 큐에서 클러스터링을 지원한다.
</details>

<br>

### 캐시를 갱신하는 다양한 전략이 존재한다. 아는 것을 설명하시오

* 각 전략의 단점은?
* 각 전략에 단점이 있다면 이를 보완할 다른 전략/방법은?

<details>
<summary><h4>해설</h4></summary>

> 캐시를 갱신하는 다양한 전략이 존재한다. 아는 것을 설명하시오 <br>
> 각 전략의 단점은? <br>
> 각 전략에 단점이 있다면 이를 보완할 다른 전략/방법은?
* https://bcp0109.tistory.com/364 참고
</details>
