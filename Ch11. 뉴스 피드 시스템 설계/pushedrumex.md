# Ch11. 뉴스 피드 시스템 설계

### 뉴스 피드 시스템에서 포스팅 전송 서비스 중에 새로운 포스팅이 발생했을 때 마다 친구들의 뉴스 피드를 즉시 갱신하는 푸시 모델이 있습니다. 푸시 모델을 사용할 경우 장점과 단점이 무엇일까요?

* 피드를 조회하는 시점에서 뉴스 피드를 갱신하는 풀 모델을 사용할 경우 장점과 단점이 무엇일까요?
* 뉴스 피드 시스템을 설계하신다면 어떤 모델을 사용하실건가요?

<details>
<summary><h4>해설</h4></summary>

>  뉴스 피드 시스템에서 포스팅 전송 서비스 중에 새로운 포스팅이 발생했을 때 마다 친구들의 뉴스 피드를 즉시 갱신하는 푸시 모델이 있습니다. 푸시 모델을 사용할 경우 장점과 단점이 무엇일까요?
* 푸시 모델을 사용할 경우 각 사용자의 피드 목록이 갱신되어 있어 조회할 때의 지연시간이 낮다는 장점이 있습니다. 하지만, 친구가 많은 사용자일 경우 친구 목록에 있는 모든 사용자의 피드를 갱신하는데 많은 시간이 소요될 수 있다는 단점이 있습니다. 또한 해당 서비스를 자주 사용하지 않은 사용자의 피드도 갱신되어 불필요한 리소스가 소모될 수도 있습니다.

> 피드를 조회하는 시점에서 뉴스 피드를 갱신하는 풀 모델을 사용할 경우 장점과 단점이 무엇일까요?
* 풀 모델을 사용할 경우 매번 피드를 친구들에게 푸쉬하지 않아도 되기 때문에 서비스를 사용하지 않는 사용자의 피드를 갱신하는 불필요한 작업을 하지 않아도 된다는 장점이 있습니다. 하지만, 뉴스 피드를 조회할 때마다 피드를 가져와야해서 많은 소요 시간이 발생한다는 단점이 있습니다. 

> 뉴스 피드 시스템을 설계하신다면 어떤 모델을 사용하실건가요?
* 두 모델을 적절하게 결합하여 사용할 것 같습니다. 대부분의 사용자에 대해서는 푸시 모델을 사용하고 친구나 팔로어가 아주 많은 사용자는 풀 모델을 사용하여 시스템 과부하를 방지할 수 있습니다.
</details>

<br>

### 뉴스 피드를 데이터베이스에 저장하고 조회하는 경우 매번 디스크에 접근하여 데이터를 가져오는 것은 시간이 많이 소요됩니다. 이를 해결하기 위한 방법은 무엇이 있을까요?

* 캐시에 뉴스 피드 내용 전부와 해당 피드의 작성자의 정보를 저장해서 사용한다면 어떤 문제가 발생할 수 있을까요?
* 모든 정보를 캐싱하면 메모리 요구량이 많아지는데, 어떻게 해결할 수 있을까요?

<details>
<summary><h4>해설</h4></summary>

> 뉴스 피드를 데이터베이스에 저장하고 조회하는 경우 매번 디스크에 접근하여 데이터를 가져오는 것은 시간이 많이 소요됩니다. 이를 해결하기 위한 방법은 무엇이 있을까요? 
* 캐시에 사용자별로 뉴스 피드를 저장하는 방법이 있습니다.

> 캐시에 뉴스 피드 내용 전부와 해당 피드의 작성자의 정보를 저장해서 사용한다면 어떤 문제가 발생할 수 있을까요?
* 사용자 정보와 피드 정보를 전부 캐시에 저장하면 사용자가 급증할 경우 메모리 요구량이 많아집니다. 또한 중복 데이터도 발생합니다.

> 모든 정보를 캐싱하면 메모리 요구량이 많아지는데, 어떻게 해결할 수 있을까요?
* 포스팅 ID 와 작성자 ID 을 캐시에 저장하고, 사용자 정보와 포스팅 정보를 따로 캐시하면 중복되는 데이터를 줄여 메모리 요구량을 줄일 수 있습니다.
</details>

