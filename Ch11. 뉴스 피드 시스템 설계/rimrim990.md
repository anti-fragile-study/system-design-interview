# Ch11. 뉴스 피드 시스템 설계

### HTTP 프로토콜을 기반으로 동작하는 뉴스 피드 시스템 API를 설계하시오. 

* 뉴스 피드 시스템에는 매일 천만 명 이상이 방문한다고 가정하자. 대규모 트래픽을 처리하기 위해 뉴스 피드 시스템에 어떤 컴포넌트를 도입할 수 있는가?
* 뉴스 피드 시스템에 캐시를 도입한다면, 어떤 정보를 캐싱할 수 있는가?

<details>
<summary><h4>해설</h4></summary>

> HTTP 프로토콜을 기반으로 동작하는 뉴스 피드 시스템 API를 설계하시오.
* 피드를 발행하는 API와 피드를 읽어오는 API가 필요하다.
* 피드 발행 API 예시 - `POST /feed`
* 피드 읽기 API 예시 - `GET /feed/me`

> 뉴스 피드 시스템에는 매일 천만 명 이상이 방문한다고 가정하자. 대규모 트래픽을 처리하기 위해 뉴스 피드 시스템에 어떤 컴포넌트를 도입할 수 있는가?
* 웹 서버를 무상태로 유지하고 트래픽 규모에 따라 자동 증설되도록 설정한다
* 로드 밸런서를 사용해 사용자의 요청을 여러 웹 서버에 분산시킨다
* 자주 접근되는 정보는 캐싱해 읽기 효율을 증가시킨다
* 이미지나 비디오 같은 미디어 콘텐츠는 CDN에 저장한다

> 뉴스 피드 시스템에 캐시를 도입한다면, 어떤 정보를 캐싱할 수 있는가?
* 뉴스 피드 시스템은 사용자에게 발행된 피드들을 빠르게 읽어오는 것이 중요하다
* 따라서 사용자별로 자신에게 발행된 포스팅 ID나 포스팅 정보 등을 캐싱해 시스템 성능을 향상시킬 수 있다
</details>


<br>

### 사용자가 포스팅을 작성하면 이를 피드로 발행해야 한다. 이때 푸시 방식과, 풀 방식을 적용할 수 있을 것이다. 각각의 장점은 무엇인가?

* 단점은 무엇인가?
* 푸시 방식과 풀 방식의 장점을 섞을 수 있는 방법은 없는가?

<details>
<summary><h4>해설</h4></summary>

> 사용자가 포스팅을 작성하면 이를 피드로 발행해야 한다. 이때 푸시 방식과, 풀 방식을 적용할 수 있을 것이다. 각각의 장점은 무엇인가?
* 푸시 방식 - 포스팅이 작성되자마자 실시간으로 피드를 발행할 수 있다.
* 풀 방식 - 서비스를 자주 사용하지 않는 사용자한테는 피드를 발행하지 않아도 된다 

> 단점은 무엇인가?
* 푸시 방식 - 친구가 많은 사용자일 경우 뉴스 피드를 갱신하는 데 많은 시간이 소요된다
* 풀 방식 - 뉴스 피드를 읽는 데 오랜 시간이 걸린다

> 푸시 방식과 풀 방식의 장점을 섞을 수 있는 방법은 없는가?
* 기본 정책으로는 푸시 방식을 사용하되, 친구가 많은 사용자에게는 풀 방식을 적용할 수 있다.
</details>
