# Ch14. 유튜브 설계

### CDN은 무엇인가요?

* 이미 구축되어진 클라우드 서비스의 CDN을 사용한다면 장점과 단점이 무엇일까요?
* 비용적인 측면에서 클라우드 CDN을 사용할 때 최적화할 수 있을까요?

<details>
<summary><h4>해설</h4></summary>

> CDN은 무엇인가요?
* Content Delivery Network의 약자로, 전 세계에 분산된 서버 네트워크를 통해 콘텐츠를 더 빠르게 전송할 수 있도록 하는 서비스이다.

> 이미 구축되어진 클라우드 서비스의 CDN을 사용한다면 장점과 단점이 무엇일까요?
* 장점: CDN을 직접 구현하기 까다롭기 때문에 남이 만든 것을 편하게 사용할 수 있다.
* 단점: 비용이 비싸다. 

> 비용적인 측면에서 클라우드 CDN을 사용할 때 최적화할 수 있을까요?
* 인기 있는 비디오만 CDN을 통해 재생할 수 있다.
</details>

### 비디오를 업로드하는 과정을 구체적으로 얘기해주세요.

* 과정 중 비디오 트랜스코딩은 무엇인가요?
* 업로드 속도를 최적화할 수 있다면 그 방법은 무엇인가요?

<details>
<summary><h4>해설</h4></summary>

> 비디오를 업로드하는 과정을 구체적으로 얘기해주세요.
1. 비디오를 원본 저장소에 업로드한다.
2. 트랜스코딩 서버는 원본 저장소에서 해당 비디오를 가져와 트랜스코딩을 시작한다.
3. 트랜스코딩이 완료되면 아래 두 절차가 병렬젹으로 수행된다. <br>
  a. 트랜스코딩이 끝난 비디오를 CDN에 올린다. <br>
  b. 완료 핸들러가 이벤트 데이터를 큐에서 꺼낸다. <br>
  b.1. 완료 핸들러가 메타데이터 데이터베이스와 캐시를 갱신한다. <br>
4. API 서버가 스트리밍 준비가 되었음을 단말에게 알린다.

> 과정 중 비디오 트랜스코딩은 무엇인가요?
* 비디오를 다른 단말과 호환되는 `비트레이트(bitrate)` 와 `포맷` 으로 저장하기 위해 변환하는 과정

> 업로드 속도를 최적화할 수 있다면 그 방법은 무엇인가요?
* 하나의 비디오를 여러 GOP(Group of Pictures)로 분할해 병렬적으로 업로드한다.
* 업로드 센터를 여러 곳에 둔다.
* 메세지 큐를 사용해 느슨하게 결합된 시스템을 만든다.
</details>
