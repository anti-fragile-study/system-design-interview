# Ch08. URL 단축기 설계

### 숫자와 문자로만 구성된 단축 URL을 생성하는 시스템을 설계하시오. 단축 시스템은 URL을 단축해주는 기능과, 축약된 URL을 원래 URL로 리다이렉션 해주는 기능이 있어야 한다.

* 브라우저가 서버의 정적 리소스를 캐싱하였다. 이때 데이터가 캐싱되는 과정과 다음번 요청에서 캐시가 사용되는 과정에 대해 설명하시오.
* URL 단축기는 쓰기보다 읽기를 더 자주 하는 시스템이다. 이러한 특성을 고려했을 때, 시스템 성능을 향상시킬 수 있는 방법에는 무엇이 있을까?

<details>
<summary><h4>해설</h4></summary>

> 숫자와 문자로만 구성된 단축 URL을 생성하는 시스템을 설계하시오. 단축 시스템은 URL을 단축해주는 기능과, 축약된 URL을 원래 URL로 리다이렉션 해주는 기능이 있어야 한다.
* URL 단축 방식 - 요청이 들어오면 데이터베이스에 저장해 유일한 키 값을 얻어낸다. 해당 키 값을 base-62 방식으로 변환한다
* URL 단축 API - 해당 URL이 데이터베이스에 있을 경우 이를 반환한다. 만약 없다면 URL을 단축한 후 데이터베이스에 저장하고 반환해준다
* 리다이렉션 API - 단축된 URL의 원래 값을 데이터베이스에서 조회한다. 조회된 URL을 HTTP 헤더의 location 필드에 넣어 반환한다. 브라우저 리다이렉션을 위해 상태 코드는 301, 302와 같은 사용한다.

> 브라우저가 서버의 정적 리소스를 캐싱하였다. 이때 데이터가 캐싱되는 과정과 다음번 요청에서 캐시가 사용되는 과정에 대해 설명하시오.
* 서버는 HTTP 헤더 값에 얼만큼의 기간 동안 데이터를 캐싱할지 명시할 수 있다. 브라우저는 해당 기간 동안 정적 리소스를 저장해놓는다. 이후 정적 리소스가 필요할 때, 캐싱된 데이터를 먼저 확인한다.
* 만약 데이터가 만료되었다면 서버에 다시 요청을 보낸다.

> URL 단축기는 쓰기보다 읽기를 더 자주 하는 시스템이다. 이러한 특성을 고려했을 때, 시스템 성능을 향상시킬 수 있는 방법에는 무엇이 있을까?
* 단축된 URL을 원래의 URL로 변환하는 작업이 대부분을 이룰 것이다. 따라서 단축된 URL:원래 URL 데이터 쌍을 캐싱해놓는다
</details>


<br>

### 해시 충돌이란 무엇인가?

* 해시 충돌을 해결할 수 있는 방법에는 무엇이 있는가?
* 해시 테이블의 키로 자바 객체를 사용하였다. 만약 임의로 객체에 접근해 객체 속성 값을 수정한다면, 이전에 해시 테이블에 저장한 데이터를 가져올 수 있는가?

<details>
<summary><h4>해설</h4></summary>

> 해시 충돌이란 무엇인가?
* 해시 충돌이란, 해시 함수가 서로 다른 키 값에 대해 동일한 해시 값을 생성해 발생하는 문제이다. 

> 해시 충돌을 해결할 수 있는 방법에는 무엇이 있는가?
* 체이닝 - 해시 테이블 버킷에 연결 리스트를 할당한다. 충돌된 데이터는 연결 리스트에 추가해준다
* 개방 주소법 - 해시 테이블의 다른 빈 공간을 찾아 데이터를 저장한다

> 해시 테이블의 키로 자바 객체를 사용하였다. 만약 임의로 객체에 접근해 객체 속성 값을 수정한다면, 이전에 해시 테이블에 저장한 데이터를 가져올 수 있는가?
* 자바에서는 객체의 속성 값들을 조합해 해시 함수를 구현할 수 있다. 만약 임의로 속성 값을 변경하면 이전에 데이터를 저장한 버킷을 찾지 못한다. 따라서 데이터를 가져올 수 없다.  
</details>
