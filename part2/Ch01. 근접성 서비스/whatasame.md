# Ch01. 근접성 서비스

### 데이터베이스에서 부하를 분산하기 위해서 주로 사용하는 방법에 대해 설명해주세요.

* replication이 적절한 경우와 부적절한 경우는 어떤 것이 있을까요?
* sharding이 적절한 경우와 부적절한 경우는 어떤 것이 있을까요?

<details>
<summary><h4>해설</h4></summary>

> 데이터베이스에서 부하를 분산하기 위해서 주로 사용하는 방법에 대해 설명해주세요.
* 주로 replication과 sharding을 사용합니다.

> replication이 적절한 경우와 부적절한 경우는 어떤 것이 있을까요?
* 데이터베이스의 연산에서 읽기 연산의 비중이 높을 경우 적절합니다. Replication lag이 발생하므로 실시간 등 데이터 일관성이 매우 중요한 경우 복잡도가 증가하여 부적절할 수 있습니다.

> sharding이 적절한 경우와 부적절한 경우는 어떤 것이 있을까요?
* 데이터베이스의 연산에서 쓰기 연산의 비중이 높을 경우 적절합니다. 읽기 연산이 많은 경우 부적절하며 샤딩 키를 만들기 어려운 경우 애플리케이션에서 샤딩 키를 만들어야하는 등 복잡도가 증가할 수 있습니다.
</details>


<br>

### 지역 정보 인덱스를 저장하는 자료구조 중 quadtree는 왜 메모리에 구축하나요?

* 관계형 데이터베이스에서 하나의 컬럼에 여러 값을 저장하기 위해서 JSON을 사용할 수 있는데 적절하지 않은 이유는 무엇일까요?
* 웹 서비스를 stateless로 설계하면 어떤 점이 좋을까요? 

<details>
<summary><h4>해설</h4></summary>

> 지역 정보 인덱스를 저장하는 자료구조 중 quadtree는 왜 메모리에 구축하나요?
* 이미 만들어진 quadtree는 실시간성이 떨어지고 부가적인 데이터가 있어 크기가 크므로 네트워크 대역폭을 많이 사용하게 된다는 문제점이 있습니다.

> 관계형 데이터베이스에서 하나의 컬럼에 여러 값을 저장하기 위해서 JSON을 사용할 수 있는데 적절하지 않은 이유는 무엇일까요?
* 생성 시 중복 검사와 같은 제약 사항을 지키기 위해서 전체 값을 모두 읽어야 하는 문제점, 병렬 처리를 위해 락을 걸어야한다는 문제가 발생합니다. 반면 record로 사용할 경우 관계형 데이터베이스의 기능을 적극 활용하여 쉽게 해결할 수 있습니다.

> 웹 서비스를 stateless로 설계하면 어떤 점이 좋을까요?
* 부하에 유동적으로 scale을 조절할 수 있어 비용을 줄일 수 있고 가용성을 높일 수 있습니다.
</details>
