# Ch03. 시스템 설계 면접 공략법

### 뉴스 피드 시스템의 '피드 발행'을 설계하라

* 설계한 시스템에서 로그를 관리하고 싶다. 로그 관리 시스템은 어떻게 설계하면 좋을까?

<details>
<summary><h4>해설</h4></summary>

> 뉴스 피드 시스템의 '피드 발행'을 설계하라
* 책의 예시 질문이다. 정답은 없다. 다만 책에서 얘기하는 것처럼 면접관과 충분히 소통하며 요구 사항을 명확히 하는 것이 중요하다.

> 설계한 시스템에서 로그를 관리하고 싶다. 로그 관리 시스템은 어떻게 설계하면 좋을까?
* 이것 또한 정답은 없다. 대중적인 설계로는 `ELK(Elastic Search - Logstash - Kibana)` 가 있다.
* 어플리케이션 서버에 설치된 `Beats(경량 데이터 수집기)` 가 로그를 수집해 Logstash로 보낸다.
* Logstash는 로그 데이터를 가공 및 필터링하고 Elastic Search로 전송한다.
* Elastic Search는 역 인덱싱을 통해 대규모 로그 데이터를 매우 빠른 속도로 검색하게 해준다.
* Kibana는 Elastic Search에서 데이터를 가져와 유저에게 시각화 된 분석 결과를 제공한다.
* 이 때 로그 유실을 막기 위해 각 서버 사이 `메세지 큐` 를 도입할 수 있다.
* 29cm는 Elastic Search 서버에서 로그가 너무 많이 저장되어 디스크 용량 부족으로 로그가 유실되자 Logstash와 Elastic Search 사이에 메세지 큐를 도입했다. ([참고](https://medium.com/29cm/29cm-%EB%A1%9C%EA%B7%B8-%EC%88%98%EC%A7%91-%EC%8B%9C%EC%8A%A4%ED%85%9C-%EC%86%8C%EA%B0%9C-e7955d7deec6))
</details>

<br>

### 면접 세션에서 해야 할 것은 무엇인가? 

* 면접 세션에서 하면 안 될 것은 무엇인가?

<details>
<summary><h4>해설</h4></summary>

> 면접 세션에서 해야 할 것은 무엇인가?
* 질문을 통해 확인하라(clarification).
* 문제의 요구사항을 이해하라.
* 개략적 설계에 면접관이 동의하면, 각 컴포넌트의 세부사항을 설명하기 시작하라.
* 면접관의 아이디어를 이끌어 내라.
* 등등...

> 면접 세션에서 하면 안 될 것은 무엇인가?
* 요구사항이나 가정들을 분명히 하지 않은 상태에서 설계를 제시하지 말라.
* 진행 중에 막혔다면, 힌트를 청하기를 주저하지 말라.
* 등등...
</details>
