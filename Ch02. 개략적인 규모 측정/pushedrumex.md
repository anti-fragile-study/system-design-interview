# Ch02. 개략적인 규모 측정

> 메모리 접근 속도와 디스크 접근 속도가 차이나는 이유가 무엇인가요?

* 메모리와 디스크에 각각 어떤 데이터를 저장하면 좋을까요?
* 실제 프로젝트에서 메모리와 디스크를 어떤 식으로 사용했는 지 설명해주세요.
<details>
<summary><h4>해설</h4></summary>

> 메모리 접근 속도와 디스크 접근 속도가 차이나는 이유가 무엇인가요?
* CPU 와 가까이 존재할 수록 접근 속도가 빠릅니다. 컴퓨터 구조에서 메모리는 CPU 와 함께 메인보드에 존재하기 때문에 접근 속도가 빠릅니다. 반면 디스크는 CPU 와 멀리 떨어져 있기 때문에 접근 속도가 느립니다.

> 메모리와 디스크에 각각 어떤 데이터를 저장하면 좋을까요?
* 메모리에는 휘발성 데이터나 낮은 Latency 를 요구하는 데이터를 저장하고 디스크에는 비휘발성 데이터를 저장하면 좋을 것 같습니다.

> 실제 프로젝트에서 메모리와 디스크를 어떤 식으로 사용했는 지 설명해주세요.
* 자주 참조되는 데이터를 메모리에 저장하였고 그 외의 영속성이 요구되는 데이터는 디스크에 저장하였습니다.
</details>


<br>

> 인스타그램의 월간 능동 사용자가 1억명이고, 80%의 사용자가 매일 인스타를 사용하며 평균적으로 하루에 3건의 게시글을 올다고 가정할 때 QPS 를 계산해보세요.

* 미디어 하나의 크기가 1 MB, 미디어를 포함하는 게시글이 80% 일 때, 하루에 전송되는 데이터의 양을 계산해보세요. 
* 데이터가 3년 동안 보관된다면, 얼마만큼의 저장 공간이 필요할까요?

<details>
<summary><h4>해설</h4></summary>

> 인스타그램의 월간 능동 사용자가 1억명이고, 80%의 사용자가 매일 인스타를 사용하며 평균적으로 하루에 3건의 게시글을 올다고 가정할 때 QPS 를 계산해보세요.
* 1억 * 80% * 3 / 24 / 60 / 60 = 2777.7 QPS

> 미디어 하나의 크기가 1 MB, 미디어를 포함하는 게시글이 80% 일 때, 하루에 전송되는 데이터의 양을 계산해보세요.
* 1억 * 80% * 3 * 80% * 1MB = 1920 TB

> 데이터가 3년 동안 보관된다면, 얼마만큼의 저장 공간이 필요할까요?
* 1920 TB * 365 * 3 = 2102400 TB
</details>


<br>

> 메시지큐란 무엇인가요? 대략적인 흐름에 대해 설명해주세요.

* 자바에서 단순하게 @Async 애노테이션을 사용해서 비동기로 처리하는 것과 메시지큐를 사용하여 처리하는것의 차이점은 무엇인가요?
* 메시지큐를 사용하면 어떤 장점이 있을까요?

<details>
<summary><h4>해설</h4></summary>

> 메시지큐란 무엇인가요? 대략적인 흐름에 대해 설명해주세요.
* 메시지큐란 비동기 통신을 지원하는 컴포넌트입니다. 생산자가 메시지를 만들어 큐에 발행하면 소비자는 해당 메시지를 받아 그에 맞는 동작을 수행합니다.

> 자바에서 단순하게 @Async 애노테이션을 사용해서 비동기로 처리하는 것과 메시지큐를 사용하여 처리하는것의 차이점은 무엇인가요?
* 메시지큐와 비교했을 때, @Async 를 사용하면 로컬 메모리를 사용하기 때문에 데이터의 안정성이 떨어지며 확장성이 낮습니다. 또한 내부적인 큐를 사용하기 때문에 개발자가 자유롭게 컨트롤하기가 어렵습니다.

> 메시지큐를 사용하면 어떤 장점이 있을까요?
* 생산자와 소비자 간의 결합이 느슨해집니다. 즉, 생산자와 소비자를 각각 독립적으로 확장할 수 있고 메시지가 많이 발생할 경우 큐의 개수도 늘려서 처리할 수 있습니다.
</details>


<br>
