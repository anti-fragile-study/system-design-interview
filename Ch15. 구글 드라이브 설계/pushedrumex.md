# Ch15. 구글 드라이브 설계

### 파일이 갱신 될 때 마다 전체 파일을 서버로 보낸다면 어떤 문제가 발생할 수 있을까요?

* 어떻게 개선할 수 있을까요?
* 블록 자체가 큰 경우 더 개선할 방법이 있을까요?

<details>
<summary><h4>해설</h4></summary>

> 파일이 갱신 될 때 마다 전체 파일을 서버로 보낸다면 어떤 문제가 발생할 수 있을까요?
* 파일의 크기가 클 경우 네트워크 대역폭을 많이 사용하게 되어 다른 사용자의 서비스에 영향을 줄 수 있습니다.

> 어떻게 개선할 수 있을까요?
* 수정이 발생한 블록만 서버로 전송하여 네트워크 대역폭을 줄일 수 있습니다.

> 블록 자체가 큰 경우 더 개선할 방법이 있을까요?
* 블록을 압축하여 전송하면 더 적은 네트워크 대역폭을 사용할 수 있습니다.
</details>

### 파일이 갱신될 때마다 알림을 보내기 위해 알림 서비스를 구축하려고 합니다. 어떤 연결 방식을 사용할 수 있을까요?

* 그렇다면 롱 폴링과 웹소켓 중 어떤 것을 사용할건가요?
* 알림 서비스에 장애가 발생한다면 어떻게 대처할 것인가요?

<details>
<summary><h4>해설</h4></summary>

> 파일이 갱신될 때마다 알림을 보내기 위해 알림 서비스를 구축하려고 합니다. 어떤 연결 방식을 사용할 수 있을까요?
* 롱 폴링이나 웹소켓 연결을 사용하여 실시간으로 알림을 보낼 수 있습니다.

> 그렇다면 롱 폴링과 웹소켓 중 어떤 것을 사용할건가요?
* 롱 폴링방식을 사용할 것 같습니다. 알림 서버와 클라이언트가 양방향 통신이 필요하지 않을 뿐더러 구글 드라이브는 실시간으로 알림을 보낼 일이 자주 발생하지 않기 때문입니다.

> 알림 서비스에 장애가 발생한다면 어떻게 대처할 것인가요?
* 롱 폴링 연결을 다시 만들 것 같습니다. 하지만 사용자가 많을 경우 롱폴링 연결을 다시 맺는 시간이 많이 소요되므로 알림 서비스 서버를 수평적 확장하여 재연결에 필요한 시간을 줄일 수 있습니다.
</details>