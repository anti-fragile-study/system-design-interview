# Ch12. 채팅 시스템 설계

### 메시지 전송 시 HTTP를 사용하는 것과 WebSocket을 사용하는 것에는 어떤 차이가 있을까요?

* HTTP 송신 시 keep-alive 옵션을 사용하면 어떤 이점이 있나요?

<details>
<summary><h4>해설</h4></summary>

> 메시지 전송 시 HTTP를 사용하는 것과 WebSocket을 사용하는 것에는 어떤 차이가 있을까요?
* HTTP를 사용하는 경우 무상태 서비스를 만들어 로드밸런싱 가능
* 하지만 TCP 핸드셰이킹 및 HTTP를 위한 여러 오버헤드 발생
* WebSocket을 사용하는 경우 가벼운 프로토콜로 양방향 통신 가능
* 하지만 로드밸런싱을 할 때 sticky하게 설정해야 함

> HTTP 송신 시 keep-alive 옵션을 사용하면 어떤 이점이 있나요?
* 클라이언트와 서버 사이 TCP 커넥션을 끊지 않은 채로 HTTP요청을 주고받기에, TCP 핸드셰이킹으로 인한 오버헤드를 줄일 수 있습니다.

</details>


<br>

### 거대한 채팅 데이터를 저장하기 위해 key-value 저장소가 유용한 이유는 무엇인가요?

* 메시지 ID는 어떻게 설계할 수 있을까요?

<details>
<summary><h4>해설</h4></summary>

> 거대한 채팅 데이터를 저장하기 위해 key-value 저장소가 유용한 이유는 무엇인가요?
* 수평 확장이 쉽습니다
* 데이터 접근 지연시간이 낮습니다

> 메시지 ID는 어떻게 설계할 수 있을까요?
* 시간 순으로 정렬 가능하고, 유일해야 합니다.
* Snowflake를 사용할 수 있습니다.
</details>
