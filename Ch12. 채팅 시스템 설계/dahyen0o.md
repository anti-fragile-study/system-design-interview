# Ch12. 채팅 시스템 설계

### 서버가 클라이언트로 메세지를 보내야할 때, 클라이언트에서 사용하는 기법은?

* 각각의 방식에 대해 장/단점을 설명하시오.

<details>
<summary><h4>해설</h4></summary>

> 서버가 클라이언트로 메세지를 보내야할 때, 클라이언트에서 사용하는 기법은?
* 폴링, 롱 폴링, 웹소켓 등이 있다.

> 각각의 방식에 대해 장/단점을 설명하시오.
* 폴링은 주기적으로 서버에 요청해 새 메세지를 확인해야 하기 때문에 주기가 짧을 수록 비용이 증가한다. 새 메세지가 없는 경우에도 통신을 해야하므로 낭비가 발생한다.
* 롱 폴링은 상대적으로 요청의 낭비가 적으나, 서버 입장에서 클라이언트가 중간에 통신을 중단했는 지 알 수 없고 송수신 클라이언트가 같은 서버에 접속하지 않을 수 있다.
* 웹소켓은 양방향 비동기 통신이 가능하나 연결을 서버 측에서 효율적으로 관리해야 한다.
</details>

<br>

### 페이스북에는 사용자의 접속 상태를 알려주는 기능이 있다. 해당 기능을 구현하려면 대략적으로 어떻게 설계해야 할까?

* 더 효율적으로 설계하는 방법은?

<details>
<summary><h4>해설</h4></summary>

> 페이스북에는 사용자의 접속 상태를 알려주는 기능이 있다. 해당 기능을 구현하려면 대략적으로 어떻게 설계해야 할까?
* 사용자가 로그인 혹은 로그아웃 했을 때 발행-구독 모델을 사용해 각 친구들에게 접속 상태를 전달한다.

> 더 효율적으로 설계하는 방법은?
* 사용자가 접속할 때만 친구들의 접속 상태를 전달받거나, 수동으로 갱신하도록 하는 방법이 있다.
</details>
